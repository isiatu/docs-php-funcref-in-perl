? use DateTime::Format::HTTP;

? extends 'base.html';

? block title => sub {
<?= $entry->title . 'Perl: Function Reference - Manual' ?>
? }

? block header2 => sub {
<link rel="stylesheet" href="http://perl-users.jp/articles/advent-calendar/prettify.css" type="text/css" media="screen" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<script type="text/javascript" src="http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.js"></script>
<script type="text/javascript" src="http://perl-users.jp/articles/advent-calendar/adventcal2009.js"></script>
<script type="text/javascript" src="http://s.hatena.ne.jp/js/HatenaStar.js"></script>
<script type="text/javascript">
    Hatena.Star.SiteConfig = { entryNodes: { 'div.entry': { uri: 'document.location', title: 'document.title', container: 'h1.entry-header' } } };
</script>

<style type="text/css">
    pre {
        border-left: 2px solid #cccccc;
        padding-left: 4px;
        margin-left: 10px;
        overflow: auto;
    }
</style>
? }

? block content => sub {

? my $permalink = 'http://perl-users.jp/articles/perl-funcref' . $entry->path .'/' .  $entry->filename . '.html';

<div class="entry">
    <h1 class="entry-header"><?= $entry->title ?><a href="http://b.hatena.ne.jp/entry/<?= $permalink ?>"><img src="http://b.hatena.ne.jp/entry/image/<?= $permalink ?>" alt="B!" /></a></h1>

    <div class="entry-content">
        <?= encoded_string $entry->body ?>
    </div>
    <div class="entry-meta">
        <a rel="bookmark" href="<?= $permalink ?>"><?= DateTime::Format::HTTP->format_datetime($entry->datetime) ?></a>
        &nbsp;|&nbsp;
        <a href="./index.html">Index</a>
    </div>
</div>


? }
